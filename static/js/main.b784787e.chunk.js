(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{39:function(e,t,a){},41:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),r=a(31),c=a.n(r),i=a(3),o=a(6),l=a(7),u=a(9),d=a(8),j=a(10),h=a(11),p=a.n(h),m=(a(39),a(4)),b=a.n(m),g=a(13),x=a(21),O=(a(41),a(1)),v=function(e){var t=e.search,a=e.SearchFun,n="";return Object(O.jsx)("div",{className:"header col-12",testid:"header",children:Object(O.jsxs)("ul",{className:"header-list-items d-flex flex-row justify-content-space-between",children:[Object(O.jsxs)("li",{className:"d-flex flex-row color-w",children:[Object(O.jsx)(i.b,{to:"/",children:Object(O.jsx)("img",{className:"img",alt:"website logo",src:"https://res.cloudinary.com/dnjuzbuoz/image/upload/v1655456206/Group_7399_tjbtzb.png"})}),Object(O.jsx)(i.b,{to:"/",children:Object(O.jsx)("p",{className:"color-w ml-3 head",children:"Home"})}),Object(O.jsx)(i.b,{to:"/popular",children:Object(O.jsx)("p",{className:"color-w ml-1 head",children:"Popular"})})]}),Object(O.jsxs)("li",{className:"d-flex flex-row",children:[Object(O.jsxs)("div",{className:"search d-flex flex-row align-items-center",children:["true"===t&&Object(O.jsxs)("div",{className:"d-flex flex-row search-input-container m-1",children:[Object(O.jsx)("input",{onChange:function(e){n=e.target.value},className:"search-input",type:"search"}),Object(O.jsx)("button",{type:"button",testid:"searchButton",onClick:function(){a(n)},className:"button",alt:"searchButton",children:Object(O.jsx)(x.a,{})})]}),"true"!==t&&Object(O.jsx)(i.b,{to:"/search",children:Object(O.jsx)("button",{type:"button",testid:"searchButton",className:"search-button",alt:"searchButton",children:Object(O.jsx)(x.a,{})})})]}),Object(O.jsx)("div",{children:Object(O.jsx)(i.b,{to:"/Account",children:Object(O.jsx)("button",{type:"button",className:"profile-button",children:Object(O.jsx)("img",{alt:"profile",src:"https://res.cloudinary.com/dnjuzbuoz/image/upload/v1655477627/Avatar_v4saqp.png"})})})})]})]})})},f=a(17),S=a(19),w=a.n(S),N=a(24),k=a.n(N),y=function(){return Object(O.jsx)("div",{className:"loader-container",testid:"loader",children:Object(O.jsx)(k.a,{type:"TailSpin",color:"#D81F26",height:50,width:50})})},C=s.a.createContext({username:"",password:"",closeNavBar:!1,triggerCloseNavBar:function(){},triggerChangeUsername:function(){},triggerChangePassword:function(){},triggerLogout:function(){},searchInput:"",triggerSearchChange:function(){}}),P=(a(80),"INITIAL"),I="INPROGRESS",T="SUCCESS",A="FAILURE",_=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={apiStatus:P,allTrendingVideos:[]},e.getAllVideos=Object(g.a)(b.a.mark((function t(){var a,n,s,r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:I}),"https://apis.ccbp.in/movies-app/trending-movies",a=p.a.get("jwt_token"),n={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},t.next=6,fetch("https://apis.ccbp.in/movies-app/trending-movies",n);case 6:if(!(s=t.sent).ok){t.next=15;break}return t.next=10,s.json();case 10:r=t.sent,c=r.results.map((function(e){return{id:e.id,backdropPath:e.backdrop_path,overview:e.overview,posterPath:e.poster_path,title:e.title}})),e.setState({apiStatus:T,allTrendingVideos:c}),t.next=16;break;case 15:e.setState({apiStatus:A});case 16:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getAllVideos()}},{key:"render",value:function(){var e=this;return Object(O.jsx)(C.Consumer,{children:function(t){var a=t.username;console.log("username from trending",{username:a});var n=function(){e.getAllVideos()};return Object(O.jsx)("div",{testid:"trending",children:function(){switch(e.state.apiStatus){case T:return function(){var t=e.state.allTrendingVideos;return Object(O.jsx)("ul",{children:Object(O.jsx)(w.a,Object(f.a)(Object(f.a)({},{dots:!1,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1}}]}),{},{className:"slick-container",children:t.map((function(e){return Object(O.jsx)("div",{className:"slick-item",children:Object(O.jsx)("li",{children:Object(O.jsx)(i.b,{to:"/movies/".concat(e.id),children:Object(O.jsx)("img",{src:e.posterPath,alt:e.title,className:"logo-image"})},e.id)},e.id)},e.id)}))}))})}();case A:return Object(O.jsxs)("div",{className:"failure-view-container",children:[Object(O.jsx)("img",{alt:"failure view",src:"https://res.cloudinary.com/dtjcxf7z5/image/upload/v1650297174/Mini%20Project%20Netflix%20Clone/Background-Complete_t8c6zl.png",className:"failure-image"}),Object(O.jsx)("p",{className:"search-content",children:"Something went wrong. Please try again"}),Object(O.jsx)("button",{type:"button",className:"try-again-button",onClick:n,children:"Try again"})]});case I:return Object(O.jsx)(y,{});default:return null}}()})}})}}]),a}(n.Component),V=_,M=(a(81),a(22)),R=(a(82),function(){return Object(O.jsx)(C.Consumer,{children:function(e){var t=e.username;return console.log(t),Object(O.jsxs)("div",{className:"footer-container",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(M.a,{size:30,className:"footer-icon"}),Object(O.jsx)(M.c,{size:30,className:"footer-icon"}),Object(O.jsx)(M.d,{size:30,className:"footer-icon"}),Object(O.jsx)(M.b,{size:30,className:"footer-icon"}),Object(O.jsx)(x.a,{size:30,className:"footer-icon"})]}),Object(O.jsx)("p",{className:"contact-heading",children:"Contact us"})]})}})}),z="INITIAL",E="INPROGRESS",D="SUCCESS",L="FAILURE",F=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={apiStatus:z,allTrendingItemVideos:[]},e.getOriginalVideos=Object(g.a)(b.a.mark((function t(){var a,n,s,r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:E}),"https://apis.ccbp.in/movies-app/originals",a=p.a.get("jwt_token"),n={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},t.next=6,fetch("https://apis.ccbp.in/movies-app/originals",n);case 6:if(!(s=t.sent).ok){t.next=16;break}return t.next=10,s.json();case 10:r=t.sent,console.log(r),c=r.results.map((function(e){return{id:e.id,backdropPath:e.backdrop_path,overview:e.overview,posterPath:e.poster_path,title:e.title}})),e.setState({apiStatus:D,allTrendingItemVideos:c}),t.next=17;break;case 16:e.setState({apiStatus:L});case 17:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getOriginalVideos()}},{key:"render",value:function(){var e=this;return Object(O.jsx)(C.Consumer,{children:function(t){var a=t.username;console.log("username from originals",{username:a});var n=function(){e.getOriginalVideos()};return Object(O.jsx)("div",{testid:"originals",children:function(){switch(e.state.apiStatus){case D:return function(){var t=e.state.allTrendingItemVideos;return Object(O.jsx)("ul",{children:Object(O.jsx)(w.a,Object(f.a)(Object(f.a)({},{dots:!1,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1}}]}),{},{className:"slick-container",children:t.map((function(e){return Object(O.jsx)("div",{className:"slick-item",children:Object(O.jsx)("li",{children:Object(O.jsx)(i.b,{to:"/movies/".concat(e.id),children:Object(O.jsx)("img",{src:e.posterPath,alt:e.title,className:"logo-image"})},e.id)},e.id)},e.id)}))}))})}();case L:return Object(O.jsxs)("div",{className:"failure-view-container",children:[Object(O.jsx)("img",{alt:"failure view",src:"https://res.cloudinary.com/dtjcxf7z5/image/upload/v1650297174/Mini%20Project%20Netflix%20Clone/Background-Complete_t8c6zl.png",className:"failure-image"}),Object(O.jsx)("p",{className:"search-content",children:"Something went wrong. Please try again"}),Object(O.jsx)("button",{type:"button",className:"try-again-button",onClick:n,children:"Try again"})]});case E:return Object(O.jsx)(y,{});default:return null}}()})}})}}]),a}(n.Component),U=F,B="INITIAL",G="INPROGRESS",H="SUCCESS",W="FAILURE",Y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={apiStatus:B,allTopRatedItemVideos:[]},e.getTopRatedItemVideos=Object(g.a)(b.a.mark((function t(){var a,n,s,r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:G}),"https://apis.ccbp.in/movies-app/top-rated-movies",a=p.a.get("jwt_token"),n={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},t.next=6,fetch("https://apis.ccbp.in/movies-app/top-rated-movies",n);case 6:if(!(s=t.sent).ok){t.next=15;break}return t.next=10,s.json();case 10:r=t.sent,c=r.results.map((function(e){return{id:e.id,backdropPath:e.backdrop_path,overview:e.overview,posterPath:e.poster_path,title:e.title}})),e.setState({apiStatus:H,allTopRatedItemVideos:c}),t.next=16;break;case 15:e.setState({apiStatus:W});case 16:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getTopRatedItemVideos()}},{key:"render",value:function(){var e=this;return Object(O.jsx)(C.Consumer,{children:function(t){var a=t.username;console.log("username from originals",{username:a});var n=function(){e.getTopRatedItemVideos()};return Object(O.jsx)("div",{testid:"toprated",children:function(){switch(e.state.apiStatus){case H:return function(){var t=e.state.allTopRatedItemVideos;return Object(O.jsx)("ul",{children:Object(O.jsx)(w.a,Object(f.a)(Object(f.a)({},{dots:!1,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1}}]}),{},{className:"slick-container",children:t.map((function(e){return Object(O.jsx)("div",{className:"slick-item",children:Object(O.jsx)("li",{children:Object(O.jsx)(i.b,{to:"/movies/".concat(e.id),children:Object(O.jsx)("img",{src:e.posterPath,alt:e.title,className:"logo-image"})})},e.id)},e.id)}))}))})}();case W:return Object(O.jsxs)("div",{className:"failure-view-container",children:[Object(O.jsx)("img",{alt:"failure view",src:"https://res.cloudinary.com/dtjcxf7z5/image/upload/v1650297174/Mini%20Project%20Netflix%20Clone/Background-Complete_t8c6zl.png",className:"failure-image"}),Object(O.jsx)("p",{className:"search-content",children:"Something went wrong. Please try again"}),Object(O.jsx)("button",{type:"button",className:"try-again-button",onClick:n,children:"Try again"})]});case G:return Object(O.jsx)(y,{});default:return null}}()})}})}}]),a}(n.Component),J=Y,q="INITIAL",K="INPROGRESS",Q="SUCCESS",X="FAILURE",Z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={apiStatus:q,allTrendingVideos:[]},e.getAllVideos=Object(g.a)(b.a.mark((function t(){var a,n,s,r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:K}),"https://apis.ccbp.in/movies-app/originals",a=p.a.get("jwt_token"),n={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},t.next=6,fetch("https://apis.ccbp.in/movies-app/originals",n);case 6:if(!(s=t.sent).ok){t.next=15;break}return t.next=10,s.json();case 10:r=t.sent,c=r.results.map((function(e){return{id:e.id,backdropPath:e.backdrop_path,overview:e.overview,posterPath:e.poster_path,title:e.title}})),e.setState({apiStatus:Q,allTrendingVideos:c}),t.next=16;break;case 15:e.setState({apiStatus:X});case 16:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getAllVideos()}},{key:"render",value:function(){var e=this,t=function(){e.getAllVideos()},a=function(){switch(e.state.apiStatus){case Q:return function(){var t=e.state.allTrendingVideos,a=t[Math.floor(Math.random()*t.length)],n=a.backdropPath,s=a.title,r=a.overview;return Object(O.jsxs)("div",{className:"spiderman-container",style:{backgroundImage:"url(".concat(n,")"),backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"},children:[Object(O.jsx)(v,{}),Object(O.jsxs)("div",{className:"home-header-content",children:[Object(O.jsx)("h1",{className:"movie-details-name",children:s}),Object(O.jsx)("p",{className:"movie-details-description",children:r}),Object(O.jsx)("button",{type:"button",className:"movies-details-play-button",children:"Play"})]})]})}();case X:return Object(O.jsxs)("div",{className:"failure-view-container",children:[Object(O.jsx)("img",{alt:"failure view",src:"https://res.cloudinary.com/dtjcxf7z5/image/upload/v1650297174/Mini%20Project%20Netflix%20Clone/Background-Complete_t8c6zl.png",className:"failure-image"}),Object(O.jsx)("p",{className:"search-content",children:"Something went wrong. Please try again"}),Object(O.jsx)("button",{type:"button",className:"try-again-button",onClick:t,children:"Try again"})]});case K:return Object(O.jsx)(y,{});default:return null}};return Object(O.jsx)(C.Consumer,{children:function(e){var t=e.username;return console.log("username from Home",{username:t}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"home-container",testid:"home",children:[a(),Object(O.jsx)("h1",{className:"trending-heading",children:"Trending Now"}),Object(O.jsx)(V,{}),Object(O.jsx)("h1",{className:"trending-heading",children:"Top Rated"}),Object(O.jsx)(J,{}),Object(O.jsx)("h1",{className:"trending-heading",children:"Originals"}),Object(O.jsx)(U,{})]}),Object(O.jsx)(R,{})]})}})}}]),a}(n.Component),$=Z,ee=(a(83),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={showSubmitError:!1,errorMsg:""},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(O.jsx)(C.Consumer,{children:function(t){var a=t.username,n=t.password,s=t.triggerChangeUsername,r=t.triggerChangePassword,c=function(e){s(e)},i=function(e){r(e)},o=function(t){var a=e.props.history;p.a.set("jwt_token",t,{expires:30}),a.replace("/")},l=function(t){e.setState({showSubmitError:!0,errorMsg:t})},u=function(){var e=Object(g.a)(b.a.mark((function e(t){var s,r,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={username:a,password:n},"https://apis.ccbp.in/login",r={method:"POST",body:JSON.stringify(s)},e.next=6,fetch("https://apis.ccbp.in/login",r);case 6:return c=e.sent,e.next=9,c.json();case 9:i=e.sent,!0===c.ok?o(i.jwt_token):l(i.error_msg);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=e.state,h=d.showSubmitError,m=d.errorMsg;return void 0!==p.a.get("jwt_token")?Object(O.jsx)(j.a,{to:"/"}):Object(O.jsxs)("div",{className:"login-form-container",children:[Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:"https://res.cloudinary.com/dtjcxf7z5/image/upload/v1650191862/Mini%20Project%20Netflix%20Clone/MoviesIcon_snclt2.png",alt:"login website logo"})}),Object(O.jsxs)("form",{className:"form-container",onSubmit:u,children:[Object(O.jsx)("h1",{className:"login-heading",children:"Login"}),Object(O.jsx)("div",{className:"input-container",children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("label",{className:"input-label",htmlFor:"username",children:"USERNAME"}),Object(O.jsx)("input",{type:"text",id:"username",className:"username-input-field",value:a,onChange:c,placeholder:"Username"})]})}),Object(O.jsx)("div",{className:"input-container",children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("label",{className:"input-label",htmlFor:"password",children:"PASSWORD"}),Object(O.jsx)("input",{type:"password",id:"password",className:"password-input-field",value:n,onChange:i,placeholder:"Password"})]})}),h&&Object(O.jsxs)("p",{className:"error-message",children:["*",m]}),Object(O.jsx)("button",{type:"submit",className:"login-button",children:"Login"})]}),Object(O.jsx)("h1",{className:"watermark",children:"Developed by P.S.S.Pavan Kumar"})]})}})}}]),a}(n.Component)),te=ee,ae=(a(84),function(e){return Object(O.jsx)(C.Consumer,{children:function(t){var a=t.username,n=t.password,s=t.triggerLogout,r="*".repeat(n.length);return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"account-container",testid:"account",children:[Object(O.jsx)(v,{}),Object(O.jsxs)("div",{className:"account-container-2",children:[Object(O.jsxs)("h1",{children:["Account",Object(O.jsx)("hr",{})]}),Object(O.jsxs)("div",{className:"account-element",children:[Object(O.jsx)("p",{className:"header-element",children:"Member ship"}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:[a,"@gmail.com"]}),Object(O.jsxs)("p",{children:["Password: ",r," "]})]})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"account-element",children:[Object(O.jsx)("p",{className:"header-element",children:"Plan Details"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Premium"}),Object(O.jsx)("p",{className:"ultra-hd",children:"Ultra HD"})]})]}),Object(O.jsx)("button",{type:"button",className:"logout-button",onClick:function(){s(e)},children:"Logout"})]}),Object(O.jsx)(R,{})]})})}})}),ne=(a(85),"INITIAL"),se="INPROGRESS",re="SUCCESS",ce="FAILURE",ie=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={apiStatus:ne,allPopularVideos:[]},e.getPopularItemVideos=Object(g.a)(b.a.mark((function t(){var a,n,s,r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:se}),"https://apis.ccbp.in/movies-app/popular-movies",a=p.a.get("jwt_token"),n={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},t.next=6,fetch("https://apis.ccbp.in/movies-app/popular-movies",n);case 6:if(!(s=t.sent).ok){t.next=15;break}return t.next=10,s.json();case 10:r=t.sent,c=r.results.map((function(e){return{id:e.id,backdropPath:e.backdrop_path,overview:e.overView,posterPath:e.poster_path,title:e.title}})),e.setState({apiStatus:re,allPopularVideos:c}),t.next=16;break;case 15:e.setState({apiStatus:ce});case 16:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getPopularItemVideos()}},{key:"render",value:function(){var e=this;return Object(O.jsx)(C.Consumer,{children:function(t){var a=t.username;console.log("username from popular",{username:a});var n=function(){e.getPopularItemVideos()};return Object(O.jsx)("div",{testid:"trending",children:function(){switch(e.state.apiStatus){case re:return function(){var t=e.state.allPopularVideos;return Object(O.jsx)("div",{className:"popular-video-list-container",children:Object(O.jsx)("ul",{className:"popular-video-list",children:t.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(i.b,{to:"/movies/".concat(e.id),children:Object(O.jsx)("img",{src:e.posterPath,alt:e.title,className:"popular-image"})},e.id)},e.id)}))})})}();case ce:return Object(O.jsxs)("div",{className:"failure-view-container",children:[Object(O.jsx)("img",{alt:"failure view",src:"https://res.cloudinary.com/dtjcxf7z5/image/upload/v1650297174/Mini%20Project%20Netflix%20Clone/Background-Complete_t8c6zl.png",className:"failure-image"}),Object(O.jsx)("p",{className:"search-content",children:"Something went wrong. Please try again"}),Object(O.jsx)("button",{type:"button",onClick:n,className:"try-again-button",children:"Try again"})]});case se:return Object(O.jsx)(y,{});default:return null}}()})}})}}]),a}(n.Component),oe=ie,le=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(O.jsx)(C.Consumer,{children:function(e){var t=e.username;return console.log("username from Home",{username:t}),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"home-container",testid:"popular",children:[Object(O.jsx)(v,{}),Object(O.jsx)(oe,{}),Object(O.jsx)(R,{})]})})}})}}]),a}(n.Component),ue=le,de=(a(86),"INITIAL"),je="INPROGRESS",he="SUCCESS",pe="FAILURE",me=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={apiStatus:de,movieItemDetails:[],similarMovieItems:[]},e.getFormattedData=function(e){return{id:e.id,backdropPath:e.backdrop_path,title:e.title,adult:e.adult,budget:e.budget,genres:e.genres,overview:e.overview,posterPath:e.poster_path,releaseDate:e.release_date,runtime:e.runtime,rating:e.vote_average,count:e.vote_count,similarMovieItems:e.similar_movies,spokenLanguage:e.spoken_languages}},e.getMovieItemDetails=Object(g.a)(b.a.mark((function t(){var a,n,s,r,c,i,o,l,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:je}),a=e.props.match,n=a.params,s=n.id,r="https://apis.ccbp.in/movies-app/movies/".concat(s),c=p.a.get("jwt_token"),i={method:"GET",headers:{Authorization:"Bearer ".concat(c)}},t.next=9,fetch(r,i);case 9:if(!(o=t.sent).ok){t.next=18;break}return t.next=13,o.json();case 13:l=t.sent,u=e.getFormattedData(l.movie_details),e.setState({apiStatus:he,movieItemDetails:u,similarMovieItems:u.similarMovieItems.slice(0,6)}),t.next=19;break;case 18:e.setState({apiStatus:pe});case 19:case"end":return t.stop()}}),t)}))),e.changeNewMovieDetails=function(){e.getMovieItemDetails()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getMovieItemDetails()}},{key:"render",value:function(){var e=this;return Object(O.jsx)(C.Consumer,{children:function(t){var a=t.username;console.log("username from trending",{username:a});var n=function(){e.getMovieItemDetails()};return Object(O.jsx)("div",{testid:"movieItem",children:function(){switch(e.state.apiStatus){case he:return function(){var t,a=e.state,n=a.movieItemDetails,s=a.similarMovieItems,r=n.title,c=n.backdropPath,o=n.runtime,l=n.adult,u=n.releaseDate,d=n.overview,j=n.genres,h=n.count,p=n.rating,m=n.budget,b=n.spokenLanguage,g=c,x=Math.floor(o/60),v=o%60,f=new Date(u),S=f.getDay().toString();return t=S.endsWith("3")?"rd":S.endsWith("2")?"nd":S.endsWith("1")?"st":"th",Object(O.jsxs)("div",{className:"home-background",testid:"movieItem",children:[Object(O.jsxs)("div",{style:{backgroundImage:"url(".concat(g,")"),backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"},className:"movies-details-top-container",children:[Object(O.jsx)("h1",{className:"movies-details-top-container-heading",children:r}),Object(O.jsxs)("div",{className:"hours-container",children:[Object(O.jsx)("p",{className:"hours",children:"".concat(x,"h ").concat(v,"m")}),Object(O.jsx)("p",{className:"language",children:l?"A":"U/A"}),Object(O.jsx)("p",{className:"hours",children:f.getFullYear()})]}),Object(O.jsx)("p",{className:"overview",children:d}),Object(O.jsx)("button",{type:"button",className:"button",children:"Play"})]}),Object(O.jsxs)("div",{className:"genre-container",children:[Object(O.jsxs)("ul",{children:[Object(O.jsx)("h1",{className:"genre-heading",children:"Genres"}),j.map((function(e){return Object(O.jsx)("li",{className:"genre-option",children:Object(O.jsx)("p",{children:e.name})},e.id)}))]}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("h1",{className:"genre-heading",children:"Audio Available"}),b.map((function(e){return Object(O.jsx)("li",{className:"genre-option",children:Object(O.jsx)("p",{children:e.english_name})},e.id)}))]}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("h1",{className:"genre-heading",children:"Rating Count"}),Object(O.jsx)("li",{className:"genre-option",children:Object(O.jsx)("p",{children:h})}),Object(O.jsx)("h1",{className:"genre-heading",children:"Rating Average"}),Object(O.jsx)("li",{className:"genre-option",children:Object(O.jsx)("p",{children:p})})]}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("h1",{className:"genre-heading",children:"Budget"}),Object(O.jsx)("li",{className:"genre-option",children:Object(O.jsxs)("p",{children:[m," crores"]})}),Object(O.jsx)("h1",{className:"genre-heading",children:"Release Date"}),Object(O.jsx)("li",{className:"genre-option",children:Object(O.jsx)("p",{children:"".concat(S).concat(t," ").concat(f.toLocaleString("default",{month:"long"})," ").concat(f.getFullYear())})})]})]}),Object(O.jsx)("h1",{className:"similar-heading",children:"More like this"}),Object(O.jsx)("ul",{className:"similar-movies-container",children:s.map((function(t){return Object(O.jsx)("li",{className:"link",children:Object(O.jsx)(i.b,{to:"/movies/".concat(t.id),target:"blank",children:Object(O.jsx)("img",{src:t.poster_path,alt:t.title,className:"similar-movie-image",onClick:e.changeNewMovieDetails})})},t.id)}))})]})}();case pe:return Object(O.jsxs)("div",{className:"failure-view-container",children:[Object(O.jsx)("img",{alt:"failure view",src:"https://res.cloudinary.com/dtjcxf7z5/image/upload/v1650297174/Mini%20Project%20Netflix%20Clone/Background-Complete_t8c6zl.png"}),Object(O.jsx)("p",{className:"search-content",children:"Something went wrong. Please try again"}),Object(O.jsx)("button",{className:"try-again-button",type:"button",onClick:n,children:"Try again"})]});case je:return Object(O.jsx)(y,{});default:return null}}()})}})}}]),a}(n.Component),be=Object(j.g)(me),ge=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(O.jsx)(C.Consumer,{children:function(e){var t=e.username;return console.log("username from movieItemDetails",{username:t}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"home-container",children:[Object(O.jsx)(v,{}),Object(O.jsx)(be,{})]}),Object(O.jsx)(R,{})]})}})}}]),a}(n.Component),xe=ge,Oe=a(34),ve=(a(87),"INITIAL"),fe="SUCCESS",Se="FAILURE",we="IN_PROGRESS",Ne=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={searchApiStatus:ve,searchList:[],inputValue:""},e.getSearchViews=function(){var t=e.state.searchApiStatus;switch(console.log(t),t){case fe:return e.SearchSucessView();case Se:return e.PosterFailureView();case we:return e.HomePageLoadingView();default:return null}},e.SearchSucessView=function(){var t=e.state.searchList;return console.log("sucess",t),Object(O.jsx)("div",{className:"popular-movies-section",children:Object(O.jsx)("ul",{className:"d-flex flex-row col-12 similar-movies-list-items",children:t.map((function(e){return Object(O.jsx)("li",{className:"col-4 p-1",children:Object(O.jsx)(i.b,{to:"/movies/".concat(e.id),children:Object(O.jsx)("img",{alt:e.title,className:"popular-movie-item col-12",src:e.backdropPath})})})}))})})},e.PosterFailureView=function(){var t=e.state.inputValue;return Object(O.jsxs)("div",{className:"col-12 d-flex flex-column align-items-center justify-content-center failure-view",children:[Object(O.jsx)("img",{alt:"no movies",src:"https://res.cloudinary.com/dnjuzbuoz/image/upload/v1655559570/Group_7394_jx0wym.png"}),Object(O.jsxs)("p",{children:["Your search for ",t," did not find any matches."]})]})},e.HomePageLoadingView=function(){return Object(O.jsx)("div",{className:"products-loader-container",testid:"loader",children:Object(O.jsx)(k.a,{type:"ThreeDots",color:"#0b69ff",height:"50",width:"50"})})},e.callSearchApi=function(){var t=Object(g.a)(b.a.mark((function t(a){var n,s,r,c,i,o,l,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://apis.ccbp.in/movies-app/movies-search?search=".concat(a),e.setState({searchApiStatus:we}),s=p.a.get("jwt_token"),r={headers:{Authorization:"Bearer ".concat(s)},method:"GET"},t.next=6,fetch(n,r);case 6:if(!0!==(c=t.sent).ok){t.next=19;break}return t.next=10,c.json();case 10:return i=t.sent,console.log(i,"Search movies"),t.next=14,i;case 14:o=t.sent,0===(l=o.results).length?e.setState({searchApiStatus:Se,inputValue:a}):(u=l.map((function(e){return{backdropPath:e.backdrop_path,id:e.id,overview:e.overview,posterPath:e.poster_path,title:e.title}})),console.log(u),e.setState({searchApiStatus:fe,searchList:Object(Oe.a)(u)})),t.next=20;break;case 19:e.setState({searchApiStatus:Se});case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.SearchFun=function(t){e.callSearchApi(t)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"search-route",children:[Object(O.jsx)("div",{className:"search-header",children:Object(O.jsx)(v,{SearchFun:this.SearchFun,search:"true"})}),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("h1",{children:"Home"})}),Object(O.jsx)("div",{children:this.getSearchViews()})]})}}]),a}(n.Component),ke=Ne,ye=function(e){return void 0===p.a.get("jwt_token")?Object(O.jsx)(j.a,{to:"/login"}):Object(O.jsx)(j.b,Object(f.a)({},e))},Ce=(a(88),function(){return Object(O.jsxs)("div",{className:"failureContainer",testid:"not found",children:[Object(O.jsx)("h1",{children:"Lost Your way"}),Object(O.jsx)("p",{children:"we are sorry, the page you requested could not be found Please go back to the homepage."}),Object(O.jsx)(i.b,{to:"/",children:Object(O.jsx)("button",{type:"button",children:"Go to Home"})})]})}),Pe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:""},e.triggerChangeUsername=function(t){e.setState({username:t.target.value})},e.triggerChangePassword=function(t){e.setState({password:t.target.value})},e.triggerLogout=function(t){var a=t.history;p.a.remove("jwt_token"),a.replace("/login"),e.setState({username:"",password:""})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return Object(O.jsx)(C.Provider,{value:{username:t,password:a,triggerChangeUsername:this.triggerChangeUsername,triggerChangePassword:this.triggerChangePassword,triggerLogout:this.triggerLogout},children:Object(O.jsxs)(j.d,{children:[Object(O.jsx)(j.b,{exact:!0,path:"/login",component:te}),Object(O.jsx)(ye,{exact:!0,path:"/",component:$}),Object(O.jsx)(ye,{exact:!0,path:"/account",component:ae}),Object(O.jsx)(ye,{exact:!0,path:"/popular",component:ue}),Object(O.jsx)(ye,{exact:!0,path:"/search",component:ke}),Object(O.jsx)(ye,{exact:!0,path:"/movies/:id",component:xe}),Object(O.jsx)(j.b,{exact:!0,path:"/not-found",component:Ce}),Object(O.jsx)(j.a,{to:"/not-found"})]})})}}]),a}(n.Component),Ie=Pe;c.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(i.a,{children:Object(O.jsx)(Ie,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.b784787e.chunk.js.map